<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarRental - Register</title>
    <link rel="stylesheet" href="../styles/auth.css">
</head>
<body>
    <div class="register-container">
        <main class="register-form-container">
            <h2 class="register-form-title">Create Account</h2>
            <p class="register-form-subtitle">Join CarRental today</p>

            <div id="register-error-message" class="register-error-text" style="display: none;"></div>

            <form id="register-form">
                <input
                    type="text"
                    id="name"
                    class="register-input"
                    placeholder="Full Name"
                    required
                >

                <input
                    type="email"
                    id="register-email"
                    class="register-input"
                    placeholder="Email"
                    required
                >

                <input
                    type="password"
                    id="register-password"
                    class="register-input"
                    placeholder="Password"
                    required
                >

                <input
                    type="password"
                    id="confirm-password"
                    class="register-input"
                    placeholder="Confirm Password"
                    required
                >

                <label class="register-role-label">I want to:</label>
                <div class="register-role-container">
                    <button type="button" class="register-role-button active" id="renter-btn" onclick="selectRole('renter')">
                        <div class="register-role-icon">ðŸš—</div>
                        <div class="register-role-text">Rent a Car</div>
                        <div class="register-role-description">Browse and rent vehicles</div>
                    </button>

                    <button type="button" class="register-role-button" id="owner-btn" onclick="selectRole('owner')">
                        <div class="register-role-icon">ðŸ”‘</div>
                        <div class="register-role-text">List My Car</div>
                        <div class="register-role-description">Earn money from your car</div>
                    </button>
                </div>

                <button type="submit" class="btn register-primary-button" id="register-btn">
                    Create Account
                </button>
            </form>

            <button class="register-link-button" onclick="navigateTo('login.html')">
                Already have an account? <span class="register-link-bold">Sign In</span>
            </button>
        </main>
    </div>

    <script>
        let selectedRole = 'renter';

        function navigateTo(page) {
            window.location.href = page;
        }

        function selectRole(role) {
            selectedRole = role;
            document.getElementById('renter-btn').classList.toggle('active', role === 'renter');
            document.getElementById('owner-btn').classList.toggle('active', role === 'owner');
        }

        document.getElementById('register-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const registerBtn = document.getElementById('register-btn');

            if (!name || !email || !password || !confirmPassword) {
                showError('Please fill in all fields');
                return;
            }

            if (password !== confirmPassword) {
                showError('Passwords do not match');
                return;
            }

            if (password.length < 6) {
                showError('Password must be at least 6 characters');
                return;
            }

            registerBtn.textContent = 'Creating Account...';
            registerBtn.disabled = true;

            setTimeout(() => {
                alert('Account created successfully! Please log in.');
                navigateTo('login.html');
            }, 1000);
        });

        function showError(message) {
            const errorDiv = document.getElementById('register-error-message');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }
    </script>
</body>
</html>